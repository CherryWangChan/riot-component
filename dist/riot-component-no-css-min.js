!function(e){"use strict";function t(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0}e="default"in e?e["default"]:e;var n=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},a=function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},i={animation:1},r=function(e,t){var n="",e=a(e),r=e.split("-");return i[r[0]]&&(n+="-webkit-"+e+":"+t+";"),n+=e+":"+t+";"},o=[].slice,s=Object.prototype.toString,l=function(e,t){var n=[].slice.call(arguments,2);if(e.length>1){var a=o.call(e);a.forEach(function(e){t.apply(e,n)})}else t.apply(e[0],n)},c={$:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector(e)},$$:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelectorAll(e)},css:function v(e,t,i){if(arguments.length<3){if("string"==typeof t)return e.style[n(t)]||getComputedStyle(e,"").getPropertyValue(t);if(isArray(t)){var o={},s=getComputedStyle(e,"");return t.forEach(function(t){o[t]=e.style[n(t)]||s.getPropertyValue(t)}),o}}var v="";if("string"==typeof t)i||0===i?v=r(t,i):e.style.removeProperty(a(t));else for(key in t)t[key]||0===t[key]?v+=r(key,t[key]):this.style.removeProperty(a(key));return e.style.cssText+=";"+v}},d=["add","remove","toggle","contains"];["addClass","removeClass","toggleClass","hasClass"].forEach(function(e,t){c[e]=function(e,n){var a=function(e){e=e.split(" ");for(var n=0,a=e.length;n<a;n++)this.classList[d[t]](e[n])};return l(e,a,n)}}),["String","Number","Object","Date","Array","Function","Undefined"].forEach(function(e){c["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.tag2("riot-calendar",'<div class="riot-calendar__box {(mutipleItems > 1 && \'riot-calendar--multiple riot-calendar--multiple-i\' + mutipleItems)}"> <a class="prev {prevMonthDisable && \'disable\'}" href="javascript:;" onclick="{prevMonth}"><i></i></a> <a class="next {nextMonthDisable && \'disable\'}" href="javascript:;" onclick="{nextMonth}"><i></i></a> <div class="riot-calendar__items" each="{items, index in viewDatas}"> <div class="riot-calendar__head"> <div class="control title"> <div if="{otherViewDatas}" class="title__other">{otherViewDatas[index].title}</div> <div class="title__cur">{items.title}</div> </div> <div class="pure-g weeks"> <div class="pure-u-1-8" each="{week in weekTitles}">{week}</div> </div> </div> <div class="riot-calendar__body"> <div if="{otherViewDatas}" class="riot-calendar__body--other"> <div class="pure-g" each="{weekdates in otherViewDatas[index].weekdates}"> <div class="pure-u-1-8 {parseDateBoxClass(date)}" each="{date in weekdates}"> <div class="{date.disable === 0 && \'enable\' || \'disable\'} {date.select === 1 && \'choice\' || \'\'}"> <riot-date date="{date}"></riot-date> </div> </div> </div> </div> <div class="riot-calendar__body--cur"> <div class="pure-g" each="{weekdates in items.weekdates}"> <div class="pure-u-1-8 {parseDateBoxClass(date)}" each="{date in weekdates}"> <span class="date-placeholder" if="{!showOtherMonthDates && date.current}"></span> <div if="{showOtherMonthDates || (showOtherMonthDates===false && date.current===0 )}" class="{date.disable === 0 && \'enable\' || \'disable\'} {date._change && \'change\'} {date.select === 1 && \'choice\' || \'\'}" onclick="{checkDate}"> <riot-date date="{date}"></riot-date> </div> </div> </div> </div> </div> </div> </div> <div class="riot-calendar__foot"></div>',"","",function(e){var t=c.addClass,n=c.removeClass,a=c.css,i=this,r={};if(i.showOtherMonthDates=!!c.isUndefined(e.showOtherMonthDates)||e.showOtherMonthDates,e.numberOfMonths){var o=void 0,s=void 0;c.isNumber(e.numberOfMonths)&&(o=parseInt(e.numberOfMonths),s=1),c.isArray(e.numberOfMonths)&&(s=parseInt(e.numberOfMonths[0])||0,o=parseInt(e.numberOfMonths[1])||0),i.showOtherMonthDates=!1,r.numberOfMonths=s*o,i.mutipleItems=o}var l=Number(e.firstDay)||0,d=[31,null,31,30,31,30,31,31,30,31,30,31],v=["日","一","二","三","四","五","六"],f=function(e,t){return new Date(e,t-1,1)},h=function(e){return!(e%4)&&e%100||!(e%400)},m=function(e,t){var n=f(e,t).getDay(),a=0;return~n&&(a=n>l?n-l:n===l?0:6-l+1+n),a},p=function(t,n){return 7*(e.weekMode?6:w(t,n))-m(t,n)-g(t,n)},g=function(e,t){return--t,1===t?h(e)?29:28:d[t]},w=function(e,t){var n=g(e,t)-7+m(e,t);return Math.ceil(n/7)+1||0},k=function(){i.weekTitles=v.slice(l,7).concat(v.slice(0,l))},y=function(e){return new Date(e.getTime())},D=function(e,t){var n=y(e);return n.setDate(e.getDate()+t),n},b=function(e){return(e>9?"":"0")+e},_=function(t,n,a){return e.dateTimeFormat?e.dateTimeFormat(t,n,a):t+"-"+b(n)+(a?"-"+b(a):"")},M=function(e){return"string"==typeof e?e:e?_(e.getFullYear(),e.getMonth()+1,e.getDate()):""},T=function(e,t,n){return arguments.length<3?""+("object"===("undefined"==typeof e?"undefined":u(e))?e.getFullYear()+b(e.getMonth()+1)+b(e.getDate()):""):""+e+b(t)+b(n)},x=function(t,n,a){var i=e.weekMode?6:w(t,n),r=m(t,n),o=p(t,n),s=g(t,n),l=0,c=[],d={},u=t,v=t,f=n,h=n,k=s,y=!1,D=!1;r&&(1===f&&(--u,f=13),--f,k=g(u,f)),o&&(12===h&&(++v,h=0),++h);for(var b=0,M=0;l<i;){for(var x=0,I=[];x<7;){var C=void 0,O=void 0,E=void 0,$=0;r?(C=u,O=f,E=k-r+1,$=-1,--r):b<s?(C=t,O=n,E=++b):M<o&&(C=v,O=h,E=++M,$=1);var P=new Date(C,O-1,E),G={current:$,date:P,y:C,m:O,d:E,w:P.getDay(),dateformat:_(C,O,E),disable:0,_format:T(C,O,E),_i:a};e.isRange?S&&(S===G._format?(G.range=-1,G.select=1,0!==G.current&&(D=!0)):L&&(G._format===L?(G.range=1,G.select=1,0!==G.current&&(y=!0)):G._format>S&&G._format<L&&(G.range=0))):V.indexOf(G.dateformat)>-1&&(G.select=1),G.current?G.disable=1:e.isRange&&F&&F>G._format||R&&R<G._format?G.disable=2:(U&&U>G._format||A&&A<G._format)&&(G.disable=3),e.disabledDate&&e.disabledDate(G),H&&(H===G.dateformat?(G._animation=1===G.select?1:-1,G._change=1):j.indexOf(G.dateformat)>-1&&(e.isRange?1===V.length&&(1!==j.length&&(2!==j.length||V[0]===j[0]&&V[0]===j[1])||(G._animation=-1,G._change=1)):e.isMultiple||(G._animation=-1,G._change=1))),x++,I.push(G),d[G.dateformat]=G}c.push(I),l++}return{weekDates:c,viewDates:d,rangeStartInOtherMonth:D,rangeEndInOtherMonth:y}},I=function(e,t){if(r.viewItems=[{y:e,m:t}],r.numberOfMonths>1)for(var n=1;n<r.numberOfMonths;)++t,t>12&&(t=1,e+=1),r.viewItems.push({y:e,m:t}),n++},C=function(e){var t=e===-1,n=r.viewItems[t?0:r.viewItems.length-1],a=n.m+e,i=n.y;t&&a<1?(--i,a=12):a>12&&(++i,a=1),r.viewItems[t?"pop":"shift"](),r.viewItems[t?"unshift":"push"]({y:i,m:a}),r.viewDirection=e},O=function(t,n){if(e.switchViewOverLimit){var a=T(t,n,1),i=T(t,n,g(t,n));if(e.isRange&&(R&&a>=R||F&&i<=F))return!1;if(U&&i<=U||A&&a>=A)return!1}return!0};i.prevMonth=function(e){return i.prevMonthDisable?void(e?e.preventUpdate=!0:""):(C(-1),void(e||i.update()))},i.nextMonth=function(e){return i.nextMonthDisable?void(e?e.preventUpdate=!0:""):(C(1),void(e||i.update()))},i.switchCalendarByDate=function(e){var t=e.getFullYear(),n=e.getMonth()+1,a=r.viewItems[0],o=r.viewItems[r.viewItems.length-1],s=a.y+b(a.m),l=o.y+b(o.m),c=t+b(n);if(c<s)r.viewDirection=-1;else{if(!(c>l))return!1;r.viewDirection=1}var d=O(t,n);return d&&(I(t,n),i.update()),d},i.getSelectDates=function(){return E||(E=(e.selectDates||[]).concat()),V=[],E=E.filter(function(t){var n=T(t);return e.isRange&&(F&&F>n||R&&R<n)?(console.warn("riot-calendr实例类名为%s的value中%s由于不符合rangeLimit条件而被移除",e["class"]||"riot-calendar",t),!1):!(U&&U>n||A&&A<n)||(console.warn("riot-calendr实例类名为%s的value中%s由于不符合minDate与maxDate条件而被移除",e["class"]||"riot-calendar",t),!1)}),E.sort(function(e,t){return e-t}),E.forEach(function(e){V.push(M(e))}),e.isRange?(E=E.slice(0,2),V=V.slice(0,2)):e.isMultiple||(E=E.slice(0,1),V=V.slice(0,1)),{dateStr:V,dates:E}},i.parseDateBoxClass=function(e){if(!e)return"";var t=[];if(i.opts.isRange&&S&&L)if(0===e.range&&t.push("range--area"),i.showOtherMonthDates)e.range===-1&&t.push("range--start"),1===e.range&&t.push("range--end");else{var n=i.viewDatas[e._i].rangeStartInOtherMonth,a=i.viewDatas[e._i].rangeEndInOtherMonth;(e.current===-1&&n||1===e.current&&a)&&t.push("range--area"),n||e.range!==-1||t.push("range--start"),a||1!==e.range||t.push("range--end")}return t.join(" ")};var S=void 0,L=void 0,F=void 0,R=void 0,E=void 0,V=void 0,U=void 0,A=void 0,$=void 0,P=e.rangeLimit||[],G=void 0===e.switchWithAnimation&&!0||e.switchWithAnimation,H=void 0,j=[],B=void 0,N=function(){F=T(P[0]),R=T(P[1]),U=T(e.minDate),A=T(e.maxDate),e.isRange&&(U&&F&&F<U?F=U:"",A&&R&&R>A?R=A:""),k(),i.getSelectDates(),E[0]&&!e.isMultiple&&(S=T(E[0].getFullYear(),E[0].getMonth()+1,E[0].getDate())),E[1]&&e.isRange&&(L=T(E[1].getFullYear(),E[1].getMonth()+1,E[1].getDate())),$=e.defaultDate||E[0]||new Date,I($.getFullYear(),$.getMonth()+1)};N(),i.on("update",function(){if(G&&r.viewDirection&&(i.otherViewDatas=i.viewDatas),i.viewDatas=[],r.viewItems.forEach(function(e,t){var n=x(e.y,e.m,t);i.viewDatas.push({title:e.y+"年"+e.m+"月",weekdates:n.weekDates,viewdates:n.viewDates,rangeEndInOtherMonth:n.rangeEndInOtherMonth,rangeStartInOtherMonth:n.rangeStartInOtherMonth})}),e.switchViewOverLimit){var t=r.viewItems[0].y,n=r.viewItems[0].m,a=r.viewItems[r.viewItems.length-1].y,o=r.viewItems[r.viewItems.length-1].m,s=T(t,n,1),l=T(a,o,g(a,o));e.isRange&&s<=F||s<=U?i.prevMonthDisable=!0:i.prevMonthDisable=!1,e.isRange&&R&&l>=R||A&&l>=A?i.nextMonthDisable=!0:i.nextMonthDisable=!1}});var Y=null;i.on("updated",function(){j=V.concat(),G&&r.viewDirection&&!function(){var o=c.$$(".riot-calendar__body--cur",i.root),s=c.$$(".title__cur",i.root),l=c.$$(".riot-calendar__body--other",i.root),d=c.$$(".title__other",i.root);e.animationTimingFunction&&(a(o,"animationTimingFunction",e.animationTimingFunction),a(l,"animationTimingFunction",e.animationTimingFunction),a(s,"animationTimingFunction",e.animationTimingFunction),a(d,"animationTimingFunction",e.animationTimingFunction));var u=parseFloat(e.animationDuration)||.45,v=void 0,f=void 0;if(.45!==u){var h=""+u+"s";a(o,"animationDuration",h),a(l,"animationDuration",h),a(s,"animationDuration",h),a(d,"animationDuration",h)}1===r.viewDirection?(v="calendar-fadeInRight",f="calendar-fadeOutRight"):(v="calendar-fadeInLeft",f="calendar-fadeOutLeft"),t(o,"animation "+v),t(l,"animation "+f),t(s,"animation "+v),t(d,"animation "+f),clearTimeout(Y),Y=setTimeout(function(){i.otherData=null,n(o,"animation "+v),n(l,"animation "+f),n(s,"animation "+v),n(d,"animation "+f),clearTimeout(Y),delete r.viewDirection},1e3*u)}(),e.onChange&&H&&(e.onChange(i.viewDatas[B].viewdates[H],i),H=void 0,B=void 0)});var q=function(e){E=[e.date],V=[e.dateformat],S=e._format,L=void 0},W=function(t,n){var a=D(E[0],e["min"===t?"minRangeGap":"maxRangeGap"]-1),i=T(a),r=i-n._format,o="min"===t;if(o&&r>0||!o&&r<0){var s=!0;return e.onRangeGapInvalid&&(s=e.onRangeGapInvalid(t,a)),s?(q(n),0):-1}return 1};i.checkDate=function(t){var n=t.item.date;if(0!==n.disable){if(!e.switchViewByOtherMonth||(n.current!==-1||i.prevMonthDisable)&&(1!==n.current||i.nextMonthDisable))return void(t.preventUpdate=!0);C(n.current)}if(!(n._format<U||A&&n._format>A)){if(e.isRange){if(n._format<F||R&&n._format>R)return;if(S&&!L&&S===n._format)E=[],V=[],S=void 0,L=void 0;else if(!S||S&&S>n._format||L)q(n);else{var a=1,r=1;if(e.minRangeGap>1&&(a=W("min",n)),e.maxRangeGap&&(r=W("max",n)),a>0&&r>0&&(E.push(n.date),V.push(n.dateformat),L=n._format),a<0||r<0)return void(t.preventUpdate=!0)}}else if(n.select){var o=V.indexOf(n.dateformat);V.splice(o,1),E.splice(o,1)}else e.isMultiple?(V.push(n.dateformat),E.push(n.date)):(V=[n.dateformat],E=[n.date]);H=n.dateformat,B=n._i}}}),e.tag2("riot-date",'<i class="riot-date--bg" if="{!replaceWithInnerHTML}"></i> <span if="{!replaceWithInnerHTML}">{opts.date.d}</span>',"",'class="date {className}"',function(e){var t=this,n=t.parent.opts;t.beforeShowDate=n.beforeShowDate;var a=e.date,i=1===a._animation?"riot-calendar-in":a._animation===-1?"riot-calendar-out":"";if(t.beforeShowDate){var r=t.beforeShowDate(a);r&&("object"===("undefined"==typeof r?"undefined":u(r))&&(i=i+" "+(r.className||""),r=r.html),"string"==typeof r&&(t.replaceWithInnerHTML=!0,t.root.innerHTML=r))}t.className=i}),e.tag2("riot-slider",'<div class="riot-slider {opts.disabled && \'riot-slider--disable\'} {!included && \'riot-slider--independent\'}" onmousedown="{opts.disabled ? noop : onMouseDown}" ontouchstart="{opts.disabled ? noop : onTouchStart}"> <div class="riot-slider__track"></div> <div class="riot-slider__track--select" if="{included}" riot-style="left:{selectTrack.left + \'%\'};width:{selectTrack.width + \'%\'}"></div> <div class="riot-slider__handler riot-slider__handler--1" riot-style="left:{(opts.range ?selectTrack.left : selectTrack.width) + \'%\'}" data-key="{selectTrack.left}"></div> <div class="riot-slider__handler riot-slider__handler--2" if="{opts.range}" riot-style="left: {(selectTrack.left + selectTrack.width) + \'%\'}" data-key="{selectTrack.left + selectTrack.width}"></div> <div class="riot-slider__marks" if="{opts.marks || opts.showAllDots}"> <div each="{mark,index in marks}" class="riot-slider__marks--items {parseMarkItemClass(mark)}"> <span class="riot-slider__marks--items-dot" data-key="{index}" riot-style="left:{mark.precent + \'%\'}" if="{mark.dot}"></span> <span class="riot-slider__marks--items-tip" data-key="{index}" riot-style="width:{mark.width + \'%\'};margin-left:{(-0.5 * mark.width) + \'%\'};left:{mark.precent + \'%\'}" if="{mark.tip}">{mark.label}</span> </div> </div> </div>',"","",function(e){var n=this,a={control:e.control||!1},i=null,r=e.vertical||!1,o=void 0===e.allowCross||e.allowCross,s=void 0===e.rangeValueShouldEqual||e.rangeValueShouldEqual;n.included=void 0===e.included||e.included;var l=function(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0},d=/\./,v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e;return d.test(e)&&(n=e.toFixed(t)),+n},f=function(e){return v(100/(e-1)*.9)},h=function(t){var n=a.min,i=a.max,r=[],o=void 0,s=i-n,l=void 0,c=e.range?e.step:e.step||1;if(c>0){e.showAllTips?l=v(f(Math.ceil((i-n)/c))):"";for(var d=n;d<=i;){if(!t||!t[d]){var u={key:d,label:""+d,precent:v((d-n)/s*100)};e.showAllTips&&(u.width=l,u.tip=!0),e.showAllDots&&(u.dot=!0),r.push(u)}d+=c}}if(t){var h=[],m=Object.keys(t).length;l=f(m);for(var p in t){var g=parseFloat(p),w=t[p];if(g>=n&&g<=i){var k="string"==typeof t[p],y={key:g,mark:!0,label:k?w:w.label||"",width:k?l:v(w.width||l)};k?(y.dot=void 0===e.showMarkDots||e.showMarkDots,y.tip=void 0===e.showMarkTips||e.showMarkTips):(y.dot=void 0!==w.dot?w.dot:void 0===e.showMarkDots||e.showMarkDots,y.tip=void 0!==w.tip?w.tip:void 0===e.showMarkTips||e.showMarkTips),y.precent=v((y.key-n)/s*100),r.push(y),h.push(y)}else console.warn("riot-slider实例类名为%s中有key为%s的mark由于不在opts.min和opts.max之间被移除",e["class"],p)}h.length!==m&&(l=f(h.length),h.forEach(function(e){e.width=l})),o=h.sort(function(e,t){return+e.key-+t.key})}return r.sort(function(e,t){return+e.key-+t.key}),{points:r,marks:e.showAllDots?r:o}},m=function(e){return r?e.clientY:e.pageX},p=function(e){return r?e.touches[0].clientY:e.touches[0].pageX},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=e.getBoundingClientRect();return t},w=function(t){var n=(e.range,e.dots,k(t)),i=n*(a.max-a.min)+a.min;return i=e.range&&!e.step?b(a.cachePoint.marks,i):e.dots?b(a.cachePoint.points,i):{key:parseInt(i)},{precent:100*n,point:i}},k=function(e){var t=g(),n=void 0;return n=r?(e-t.top)/t.height:(e-t.left)/t.width,n>1?1:n<0?0:n},y=function(t){if(!s&&t===a.rangeStableValue)return!1;if(e.rangeGapFix){var n=function(){var e=t-a.value[a.rangeChangeHandle];if(e>0)e=1;else{if(!(e<0))return{v:!1};e=-1}var n=a.value[a.rangeChangeHandle?0:1]+e*a.rangeGap,i=a.cachePoint.points.some(function(e){return e.key===n});return i?(a.value=0===a.rangeChangeHandle?[t,n]:[n,t],{v:!0}):{v:!1}}();if("object"===("undefined"==typeof n?"undefined":u(n)))return n.v}a.value=[t,a.rangeStableValue].sort(function(e,t){return e-t});t-a.rangeStableValue;return!(!o&&(0===a.rangeChangeHandle&&t>a.rangeStableValue||1===a.rangeChangeHandle&&t<a.rangeStableValue))},D=function(e){var t=void 0,a=e-n.selectTrack.left,i=n.selectTrack.left+n.selectTrack.width-e;return t=a<=0?0:i<=0?1:a>i?1:0},b=function(e,t){var n=e.length;if(t<=e[0].key)return e[0];if(t>=e[n-1].key)return e[n-1];for(var a=e.slice(0),i=void 0,r=0;(i=a.length)>0;){var o=void 0;if(++r,1===i)return a[0];o=Math.floor(i/2);var s=t-a[o-1].key,l=a[o].key-t;if(s<0)a=a.slice(0,o);else{if(!(l<0))return s>l?a[o]:a[o-1];a=a.slice(o)}if(r>n)return void console.warn("由于算法原因，已进入死循环")}},_=function(){return e.range?a.value.concat():a.value.slice(1,2)},M=function(t){a.changePointKey=t.key;var n=void 0;return e.range?n=y(t.key):(a.value=[a.min,t.key],n=!0),n},T=function(e){var t=m(e);I(t)},x=function(e){if(l(e))return C("touch"),void(e.preventUpdate=!0);var t=p(e);I(t)},I=function(t){var i=w(t),r=i.point;if(a.changePointKey!==r.key){var o=M(r);o&&(n.update(),e.onChange&&e.onChange(_()))}},C=function(t){a.rangeChangeHandle=void 0,a.rangeStableValue=null,e.onAfterChange&&e.onAfterChange(_()),F(t)},O=function(t){var n=w(t);if(a.changePointKey=n.point.key,e.range&&(a.rangeChangeHandle=D(n.precent),a.rangeStableValue=a.value[0===a.rangeChangeHandle?1:0]),e.onBeforeChange&&e.onBeforeChange(_()),a.value.indexOf(a.changePointKey)===-1){var i=M(n.point);return i&&e.onChange&&e.onChange(_()),i}return!1},S=function(e){e.stopPropagation(),e.preventDefault()},L=function(e){"touch"===e?(n.onTouchMoveListener=t(document,"touchmove",x.bind(n)),n.onTouchUpListener=t(document,"touchend",C.bind(n,"touch"))):"mouse"===e&&(n.onMouseMoveListener=t(document,"mousemove",T.bind(n)),n.onMouseUpListener=t(document,"mouseup",C.bind(n,"mouse")))},F=function(e){"touch"===e?(n.onTouchMoveListener.remove(),n.onTouchUpListener.remove()):"mouse"===e&&(n.onMouseMoveListener.remove(),n.onMouseUpListener.remove())},R=function(t){var n=a.min,i=a.max,r=[a.min,n];c.isNumber(t)?(console.warn("riot-slider实例类名为%s的opts.value不为数组，将强制转为数组",e["class"]||"riot-slider"),r=[Number(t)||n]):t&&t.length&&!function(){var a=[];t.forEach(function(t){t>=n&&t<=i?a.push(+t):console.warn("riot-slider实例类名为%s的opts.value由于不在opts.min与opts.max之间被移动",e["class"]||"riot-slider",t)}),r=a.sort()}();var o=r.length;return o>2?r=r.slice(0,2):o<2&&r.unshift(n),r},E=function(){var t=e.marks,i=e.value,r=e.min,o=void 0===r?0:r,s=e.max,l=void 0===s?100:s;o=Math.max(0,o),a.min=o,a.max=l,a.value=R(i),a.cachePoint=h(t),e.rangeGapFix&&(a.rangeGap=a.value[1]-a.value[0],a.rangeGap||console.warn("riot-slider实例类名为%s的rangeGap为0，会变为类似include=false的效果",e["class"]||"riot-slider")),n.marks=a.cachePoint.marks};E(),n.noop=function(e){e.preventUpdate=!0},n.parseMarkItemClass=function(e,t){if(e&&n.included&&e.precent>n.selectTrack.left&&e.precent<n.selectTrack.left+n.selectTrack.width)return"riot-slider__marks--items-select"},n.setControl=function(e){a.control=e},n.onMouseDown=function(t){e.range;if(0!==t.button||a.control)return void(t.preventUpdate=!0);var n=m(t),i=O(n);S(t),L("mouse"),t.preventUpdate=!i},n.onTouchStart=function(e){if(l(e)||a.control)return void(e.preventUpdate=!0);var t=p(e),n=O(t);S(e),L("touch"),e.preventUpdate=!n},n.on("update",function(){n.selectTrack={left:v((a.value[0]-a.min)/(a.max-a.min)*100),width:v((a.value[1]-a.value[0])/(a.max-a.min)*100)}}),n.setValue=function(e){var t=R(e);a.value=t,n.update()},n.on("mount",function(){i=n.root.querySelector(".riot-slider")})})}(riot);